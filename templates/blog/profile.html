{% extends "base.html" %}

{% block title %}{{ profile.user.username }}'s Profile{% endblock %}

{% block content %}
<div style="display: grid; grid-template-columns: 300px 1fr; gap: 30px;">
    <!-- Sidebar -->
    <div style="background: #3d4a57; border-radius: 50px; padding: 50px; box-shadow: 0 2px 6px rgb(8, 138, 224);height: fit-content;">
        <div style="text-align: center;">
            <img src="{{ profile.profile_pic.url }}" 
                 style="width: 150px; height: 150px; border-radius: 50%; object-fit: cover; border: 4px solid #3498db;">
            <h2 style="margin: 15px 0 5px; font-family: 'Arial', sans-serif; color: #ffffff;">{{ profile.user.username }}</h2>
            <p style="color: #91a8ad; margin-bottom: 15px;">Member since {{ profile.joined_date|date:"F Y" }}</p>
            
            {% if is_owner %}
                <a href="{% url 'edit_profile' %}" class="btn btn-primary" style="width: 100%;">âœï¸ Edit Profile</a>
            {% endif %}
        </div>
        
        <div style="margin-top: 25px;">
            {% if profile.bio %}
                <h4>ğŸ“ Bio</h4>
                <p>{{ profile.bio }}</p>
            {% endif %}
            
            {% if profile.location %}
                <h4>ğŸ“ Location</h4>
                <p>{{ profile.location }}</p>
            {% endif %}
            
            {% if profile.website %}
                <h4>ğŸŒ Website</h4>
                <p><a href="{{ profile.website }}" target="_blank" style="color: #3498db;">{{ profile.website }}</a></p>
            {% endif %}
            
            {% if profile.birth_date %}
                <h4>ğŸ‚ Birthday</h4>
                <p>{{ profile.birth_date|date:"F j" }}</p>
            {% endif %}
        </div>
    </div>
    
    <!-- User's Posts -->
    <div>
        <h2>ğŸ“ Posts by {{ profile.user.username }}</h2>
        <p style="color: #7f8c8d;">{{ user_posts.count }} post{{ user_posts|pluralize }}</p>
        
        {% for post in user_posts %}
        <div class="post-card">
            <h3>{{ post.title }}</h3>
            <p style="color: #7f8c8d;">{{ post.published_date|date:"F j, Y" }}</p>
            <p>{{ post.content|truncatewords:50 }}</p>
            <a href="{% url 'post_detail' post.id %}" class="btn btn-primary">Read More â†’</a>
        </div>
        {% empty %}
        <div style="text-align: center; padding: 50px; background: #f8f9fa; border-radius: 10px;">
            <p>No posts yet.</p>
        </div>
        {% endfor %}
    </div>
</div>
{% endblock %}